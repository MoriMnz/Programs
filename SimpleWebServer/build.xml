<project name="SimpleWebServer" default="freshrun" basedir=".">
	<description>
		Buildfile for the SimpleWebServer. By default cleans, builds, and runs. Can also be used to launch with default port (8080)
	</description>
	<property name="src.dir" location="src/"/>
	<property name="build.dir" location="bin/"/>

	<target name="clean" description="deletes all class files">
		<delete dir="${build.dir}"/>
	</target>

	<target name="build.dir" description="compiles all java files to /bin">
		<mkdir dir="${build.dir}"/>
		<javac srcdir="${src.dir}" destdir="${build.dir}"/>
	</target>

	<target name="cleanbuild" depends="clean,build"/>

	<target name="freshrun" depends="clean,build,run"/>

	<target name="run" description="launches SimpleWebServer on port 8080">
		<java classname="edu.nmsu.cs.webserver.WebServer" classpath="${build.dir}" fork="true" dir="${basedir}">
			<arg value="8080"/>
		</java>
	</target>
</project>
